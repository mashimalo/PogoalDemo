// // Prevent dropdown close on click
// $(".uiDropdown__menu").on({
//     "click":function(e){
//         e.stopPropagation();
//     }
// });
// Portal Modal
// $( "#toolbar-login" ).click(function() {
//     $( "#login-modal" ).addClass( "active" );
// });
//
// $( "#toolbar-signup" ).click(function() {
//     $( "#signup-modal" ).addClass( "active" );
// });
//
// $( "#switch-to-login" ).click(function() {
//     $( "#login-modal" ).toggleClass( "active" );
//     $( "#signup-modal" ).toggleClass( "active" );
// });
//
// $( "#switch-to-signup" ).click(function() {
//     $( "#login-modal" ).toggleClass( "active" );
//     $( "#signup-modal" ).toggleClass( "active" );
// });
//
// $('#portal-modal').on('hidden.bs.modal', function () {
//     if ($( "#login-modal" ).hasClass( "active" )) {
//         $( "#login-modal" ).removeClass( "active" );
//     }
//
//     if ($( "#signup-modal" ).hasClass( "active" )) {
//         $( "#signup-modal" ).removeClass( "active" );
//     }
// });

/*
|--------------------------------------------------------------------------
| Keep Modal Center of Screen
|--------------------------------------------------------------------------
*/

// $("button[data-toggle='modal']").on("click", function () {
//
//     var thisAttribute = $(this).attr("data-target");
//     // var objectHeight = $(thisAttribute).height();
//     var screenHeight = $(window).height();
//
//     var marginTop = screenHeight * 0.2;
//
//     $(thisAttribute).find(".uiModal__dialog").css("margin-top", marginTop);
//
// });
function addLoadEvent(func) {
    var oldonload = window.onload;
    if (typeof window.onload != 'function') {
        window.onload = func;
    } else {
        window.onload = function() {
            if (oldonload) {
                oldonload();
            }
            func();
        }
    }
}
// Call plugin function after DOM ready
addLoadEvent(function(){
    outdatedBrowser({
        bgColor: '#f25648',
        color: '#ffffff',
        lowerThan: 'transform',
        languagePath: '/wp-content/themes/project-p/views/outdated-browser.php'
    })
});
// Add class to toolbar when user is not log in
//$(window).scroll(function() {
//    var scroll = $(window).scrollTop();
//
//    if (scroll >= 184) {
//        $(".toolbar__container").addClass("colored-header");
//    } else {
//        $(".toolbar__container").removeClass("colored-header");
//    }
//});
// Enable tooltips
$(document).ready(function(){
    $('[data-show="tooltip"]').tooltip();
});

// Hide tooltip on click
$(".uiTooltip--hide").click(function(){
    $(".uiTooltip").tooltip('hide');
});
// Slim Scroll :: requires jQuery Slim Scroll JS
$('.notification__list.slimScroll').slimscroll({
    height: '300px',
    color: '#aaa',
    size: '5px'
});
$('.navBar .slimScroll').slimscroll({
    height: '240px',
    color: '#aaa',
    size: '5px'
});
$('.leaderBoard__column .slimScroll').slimscroll({
    alwaysVisible: true,
    distance: '5px',
    height: '200px',
    color: '#fff',
    size: '5px'
});
// Tabs :: requires Bootstrap JS
$(function(){
    $('a[data-toggle="tab"]').click(function (e) {
        e.preventDefault();
        $(this).tab('show')
    });
});
// $("#toolbar__search").on("click", function (e) {
//     $(this).addClass("active");
//     e.stopPropagation()
// });
//
// $(document).on("click", function (e) {
//     if ($(e.target).is("#toolbar__search") === false) {
//         $("#toolbar__search").removeClass("active");
//     }
// });
/*
 |--------------------------------------------------------------------------
 | createBtb
 |--------------------------------------------------------------------------
 */
$(function(){
    $(".createBtn").on("click", function () {
        $(".createBtn__list").toggleClass("active");
    });

    $(document).on("click", function (e) {
        if ($(e.target).is(".createBtn") == false) {
            $(".createBtn__list").removeClass("active");
        }
    });

    $(document).on("click", function (e) {
        if ($(e.target).is(".uiDropdown") == true) {
            $(".createBtn__list").removeClass("active");
        }
    });

    $('.uiDropdown').on("click", function () {
        if ($( ".createBtn__list" ).hasClass( "active" )) {
            $( ".createBtn__list" ).removeClass( "active" );
        }
    });
});

// $(function(){
//     var $pogoal = "" +
//         "----------------------------------------> Join us? <----------------------------------------" + "\n" +
//         "\n" +
//         "         ///////////    //////////    ///////////   //////////    /////////    ////" + "\n" +
//         "        ////    ////  ////    ////  ////////////  ////    ////  ////    ////  ////" + "\n" +
//         "       ///////////   ////    ////  ////          ////    ////  ////////////  ////" + "\n" +
//         "      ////          ////    ////  ////    ////  ////    ////  ////    ////  ////" + "\n" +
//         "     ////          ////    ////  ////////////  ////    ////  ////    ////  ////////////" + "\n" +
//         "    ////           //////////    //////////    //////////   ////    ////   //////////" + "\n" +
//         "\n" +
//         "----------------------------------------> Join us? <----------------------------------------";
//     console.log($pogoal);
// });


/*
 |--------------------------------------------------------------------------
 | Page Loader
 |--------------------------------------------------------------------------
 */
$(function () {
    $(window).load(function () {
        $("#preloader").remove();
    });
});


/*
 |--------------------------------------------------------------------------
 | Initial Avatar
 |--------------------------------------------------------------------------
 */
function initialAvatar() {
    $('.initialAvatar.avatar--xs').initial({
        charCount: 1,
        fontSize: 10,
        fontWeight: 200,
        width: 25,
        height: 25
    });
    $('.initialAvatar.avatar--sm').initial({
        charCount: 1,
        fontSize: 10,
        fontWeight: 200,
        width: 30,
        height: 30
    });
    $('.initialAvatar.avatar--md').initial({
        charCount: 1,
        fontSize: 16,
        fontWeight: 200,
        width: 36,
        height: 36
    });
    $('.initialAvatar.avatar--lg').initial({
        charCount: 1,
        fontSize: 35,
        fontWeight: 200,
        width: 80,
        height: 80
    });
    $('.initialAvatar.avatar--xlg').initial({
        charCount: 1,
        fontSize: 45,
        fontWeight: 200,
        width: 96,
        height: 96
    });
    $('.initialAvatar.avatar--xxlg').initial({
        charCount: 1,
        fontSize: 50,
        fontWeight: 200,
        width: 135,
        height: 135
    });
    $('.initialAvatar.avatar--block ').initial({
        charCount: 1,
        fontSize: 20,
        fontWeight: 200,
        width: 60,
        height: 60
    });
}
$(function () {
    initialAvatar();
});


/*
 |--------------------------------------------------------------------------
 | nl2br
 |--------------------------------------------------------------------------
 */
$(function () {
    String.prototype.nl2br = function () {
        return this.replace(/\n/g, "<br />" + "\n");
    };
    String.prototype.br2nl = function () {
        return this.replace("<br>\n", "\n", "g");
    };
});


/*
 |--------------------------------------------------------------------------
 | Email Regex
 |--------------------------------------------------------------------------
 */
function isValidEmailAddress($email) {
    var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    return pattern.test($email);
};


/*
 |--------------------------------------------------------------------------
 | Not Available
 |--------------------------------------------------------------------------
 */
$(function () {
    $("body").off("click").on("click", "[data-action='not-available']", function () {

        // Cache
        var $notAvailableModal = $("body #not-available");
        var $this = $(this);

        // Add modal attribute to the button
        $this.attr("data-toggle", "modal");
        $this.attr("data-target", "#not-available");

        if ($notAvailableModal.length === 0 && !$this.hasClass("clicked")) {

            // Get Delete Feed Modal template, then append it to .uiFeed
            $.get('/api/not-available-modal-v000003.template', function (template) {
                    var $notAvailableModalTemplate = Mustache.render(template);
                    $("body").append($notAvailableModalTemplate);
                })
                .done(function () {
                    // Run the modal
                    $this.click();
                });
            // Add .clicked class to prevent event.
            $this.addClass("clicked");

        }

    });
});


/*
 |--------------------------------------------------------------------------
 | Toggle
 |--------------------------------------------------------------------------
 */
$(function () {
    $("body").on("click", "[data-action='toggle']", function () {
        var $this = $(this);
        var $target = $this.attr("data-target");

        $this.toggleClass("toggled");

        $($target).slideToggle();

    });
});


/*
 |--------------------------------------------------------------------------
 | Scroll to target
 |--------------------------------------------------------------------------
 */
$(function () {
    $("body").on("click", "[data-scroll='scroll']", function () {
        var $this = $(this);
        var $target = $this.attr("data-target");

        if (!$this.attr("data-scroll-offset")) {
            $('html, body').animate({
                scrollTop: $($target).offset().top - 60
            }, 1000);
        } else {
            $('html, body').animate({
                scrollTop: $($target).offset().top - 60 - $this.attr("data-scroll-offset")
            }, 1000);
        }

    });
});


/*
 |--------------------------------------------------------------------------
 | Toggle Cover
 |--------------------------------------------------------------------------
 */
$(function () {
    $("body").on("click", "[data-toggle='toggle-cover']", function () {

        // Cache
        var $this = $(this);
        var $coverSection = $("#sgp-cover-section");
        var $coverStatic = $coverSection.find(".cover__static");
        var $lastActivitySection = $("#sgp-last-activity-section");
        var $infoSection = $("#sgp-info-section");
        // var $leftInfo = $(".sgp-left__info");

        if ($this.hasClass("toggled")) {
            $coverSection.animate({"height": "51px"});
            $coverStatic.hide();
            $infoSection.slideToggle();
            $lastActivitySection.slideToggle();
            // $leftInfo.slideToggle();
            $this.removeClass("toggled");
        } else {
            $coverSection.animate({"height": "250px"});
            $coverStatic.show();
            $infoSection.slideToggle();
            $lastActivitySection.slideToggle();
            // $leftInfo.slideToggle();
            $this.addClass("toggled");
        }
    });

});


/*
 |--------------------------------------------------------------------------
 | Single Group Create Page - Insert selected category to form from modal
 |--------------------------------------------------------------------------
 */
$(function () {

    var $body = $("body");
    var $groupCategoryButton = "#singleGroup-group-category-button";
    var $groupCategoryChangeButton = "#singleGroup-group-category-change-button";
    var $groupCategoryModal = "#singleGroup-group-category-modal";
    var $groupCategoryModalRadios = $($groupCategoryModal).find("input[type='radio']");

    $body.on("click", $groupCategoryButton, function () {
        $groupCategoryModalRadios.on("click", function () {
            $("#singleGroup-group-category-selected").text($("input[name=group_type_id]:checked").parent().text().trim());
            $($groupCategoryChangeButton).show();
            $($groupCategoryButton).hide();
        });
    });

});


/*
 |--------------------------------------------------------------------------
 | uiAlert Timeout
 |--------------------------------------------------------------------------
 */

$(function () {
    setTimeout(function () {
        $(".uiAlert--dismissible").slideToggle(500, function () {
            $(this).hide();
        });
    }, 3000);
});
$(function () {

    // Cache
    var $body = $("body");

    $body.on("click", ".uiFeed__footer__toggle", function () {

        $(this).siblings(".uiFeed__footer__mask").slideToggle("fast");

    });

    $body.on("click", ".uiFeed__footer .close", function () {

        $(this).parents(".uiFeed__footer__mask").slideToggle("fast");

    });
});


/*
 |--------------------------------------------------------------------------
 | Pinned
 |--------------------------------------------------------------------------
 */
// $(function () {
//     $(".uiFeed--pinned").on("click", function() {
//         $(this).removeClass("inactive");
//     });
// });
/*
 |--------------------------------------------------------------------------
 | Normalized
 |--------------------------------------------------------------------------
 */
// Uncheck checkbox default
$(function () {
    
    $('.checkbox-uncheck').find('input[type=checkbox]').prop('checked', false);
    $('input[type=checkbox].uncheck').prop('checked', false);
    $('input[type=checkbox].checked').prop('checked', true);

});


/*
 |--------------------------------------------------------------------------
 | Single Group Create Page Multiple Input
 |--------------------------------------------------------------------------
 */
(function ($) {

    $.fn.singleGroupCreatePage_multipleInput = function () {

        return this.each(function () {

            var $toolTipTitle = $(this).attr("title");

            // list of email addresses as unordered list
            $list = $('<ul />');

            // input
            var $input = $(
                // '<input id="group_email" class="form-control" type="email" name="group_email" placeholder="Email" data-show="tooltip" data-trigger="hover" data-placement="left" title="' + $toolTipTitle + '">' +
                '<input id="group_email" class="form-control" type="email" name="group_email" placeholder="Email" title="' + $toolTipTitle + '">' +
                '<span class="form-prepend-item icon icon-envelope"></span>'
            ).keyup(function (event) {

                if (event.which == 188) {
                    // key press is space or comma
                    var val = $(this).val().slice(0, -1); // remove space/comma from value

                    // validate email
                    if(isValidEmailAddress(val)){
                        // append to list of emails with remove button
                        $list.append($('<li class="multipleInput-email"><span>' + val + '</span></li>')
                            .append($('<a href="#" class="multipleInput-close" title="Remove"><span class="icon icon-cross"></span></a> ')
                                .click(function (e) {
                                    $(this).parent().remove();
                                    e.preventDefault();
                                })
                            )
                        );
                        $(this).attr('placeholder', 'Invite members');
                        // empty input
                        $(this).val('');
                    }
                }

            });

            // container div
            var $container = $('<div class="multipleInput" />').click(function () {
                $input.focus();
            });

            // insert elements into DOM
            $container.append($list).append($input).insertAfter($(this));

            // add onsubmit handler to parent form to copy emails into original input as csv before submitting
            var $orig = $(this);
            $(this).closest('form').submit(function (e) {

                var emails = new Array();
                $('.multipleInput-email span').each(function () {
                    emails.push($(this).html());
                });
                emails.push($input.val());

                $orig.val(emails.join());

            });

            return $(this).hide();

        });

    };
})(jQuery);

$('#group_email').singleGroupCreatePage_multipleInput();


/*
 |--------------------------------------------------------------------------
 | Rich Form
 |--------------------------------------------------------------------------
 */
$(function () {

    var $body = $("body");
    var $richFormInput = "textarea[data-elastic='rich-form']";
    var $hiddenDiv = $(document.createElement("div"));
    var $content = null;

    $hiddenDiv.addClass("textarea-fake");

    $body.on("click", $richFormInput, function () {

        $(this).parent(".rich-form-body").append($hiddenDiv);

    });

    $body.on("keyup", $richFormInput, function () {

        $content = $(this).val();
        $content = $content.replace(/\n/g, "<br>");
        $hiddenDiv.html($content + '<br>');

        $(this).css("height", $hiddenDiv.height() + 16);

    });

    $body.on("click", ".rich-form", function (e) {

        var $this = $(this);

        $this.find(".rich-form-body").addClass("active");

        $(document).on('click', function (e) {
            if (e.target !== $this && !$.trim($this.find($richFormInput).val())) {
                $this.find(".rich-form-body").removeClass('active');
            }
        });

        e.stopPropagation();

    });
});


/*
 |--------------------------------------------------------------------------
 | Elastic Textarea Form
 |--------------------------------------------------------------------------
 */
$(function () {

    var $body = $("body");
    var $elasticTextarea = "textarea[data-elastic='textarea']";
    var $hiddenDiv = $(document.createElement("div"));
    var $content = null;

    $hiddenDiv.addClass("textarea-fake");

    $body.on("click", $elasticTextarea, function () {

        $(this).closest('.elastic-textarea').append($hiddenDiv);

    });

    $body.on("keyup", $elasticTextarea, function () {

        $content = $(this).val();
        $content = $content.replace(/\n/g, "<br>");
        $hiddenDiv.html($content + '<br>');

        $(this).css("height", $hiddenDiv.height() + 16);

    });
});
$(function () {
    if ($(".has-sticky__bar").length) {
        $(window).scroll(function () {

            var $scroll = $(window).scrollTop();
            var $hasStickyBar = $('.has-sticky__bar');
            var $stickyBarContainer = $('.sticky__bar__container');

            if ($scroll >= $hasStickyBar.offset().top - 60) {

                $hasStickyBar.addClass('sticky');
                $stickyBarContainer.addClass('site-container');
                $stickyBarContainer.find('.pull-right').css({paddingRight: "0"});

            } else {

                $hasStickyBar.removeClass('sticky');
                $stickyBarContainer.removeClass('site-container');
                $stickyBarContainer.find('.pull-right').css({paddingRight: "15px"});

            }

        });
    }
});
//# sourceMappingURL=main.min.js.map
