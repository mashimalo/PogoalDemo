{"version":3,"sources":["ajax.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ajax.min.js","sourcesContent":["/*\n |--------------------------------------------------------------------------\n | Insert Feed Reply Form\n |--------------------------------------------------------------------------\n */\n// $(function () {\n//     $(\"button[data-action='insert-feed-reply-form']\").one(\"click\", function () {\n//\n//         // variables\n//         var $this = $(this);\n//         var $replyFormContainer = \"<div class='uiFeed__reply__form'></div>\";\n//         var $thisContainer = $this.closest(\".uiFeed__misc\");\n//         var $reply_group_id = $this.attr(\"data-reply-group-id\");\n//         var $reply_comment_id = $this.attr(\"data-reply-comment-id\");\n//         var $name = $this.attr(\"data-name\");\n//\n//         // feed reply form template\n//         var $replyForm = \"<form role='form' data-toggle='validator' id='post-childComment' accept-charset='UTF-8' action='/group/\" + $reply_group_id + \"/\" + $reply_comment_id + \"/postChildComment' method='POST'>\" +\n//             \"<input type='hidden' value='\" + $('meta[name=\"_token\"]').attr('content') + \"' name='_token'>\" +\n//             \"<img class='initialAvatar avatar avatar--md arc-sm mR--md pull-left' data-name='\" + $name + \"'>\" +\n//             \"<input type='submit' value='Reply' required='required' placeholder='Reply...' class='btn btn-primary btn-md mL--md pull-right' id='spg-feed-reply'>\" +\n//             \"<div class='uiFeed__reply__form__input'>\" +\n//             \"<div class='elastic-textarea'>\" +\n//             \"<textarea data-elastic='textarea' class='form-control elastic-textarea__input' name='2ndReply-\" + $reply_comment_id + \"' placeholder='Reply......'></textarea>\" +\n//             \"</div></div></form>\";\n//\n//         // insert feed reply form container after .uiFeed__misc\n//         $thisContainer.after($replyFormContainer);\n//\n//         // append feed reply form inside feed reply form container\n//         $thisContainer.siblings(\".uiFeed__reply__form\").append($replyForm).hide().fadeIn(500);\n//\n//         // fire initialAvatar function\n//         initialAvatar();\n//\n//         // fire elastic textarea function\n//         // elasticTextarea();\n//     });\n// });\n\n\n/*\n |--------------------------------------------------------------------------\n | Delete Feed\n |--------------------------------------------------------------------------\n */\n// $(function () {\n//     $(\"button[data-action='delete-feed']\").one(\"click\", function () {\n//\n//         // variables\n//         var $this = $(this);\n//\n//         var $feed = $this.closest(\".uiFeed\");\n//\n//         var $group_id = $this.attr(\"data-group-id\");\n//         var $feed_id = $this.attr(\"data-feed-id\");\n//\n//         // modal template\n//         var $modalTemplate = \"<div class='uiModal fade' id='delete-confirmation-\" + $group_id + $feed_id + \"'>\" +\n//             \"<div class='uiModal__dialog uiModal--sm'>\" +\n//             \"<div class='uiModal__content'>\" +\n//             \"<div class='uiModal__header'><button class='close' data-dismiss='modal'><span>&times;</span></button><div class='h3 text-center'>Delete Feed</div></div>\" +\n//             \"<div class='uiModal__body'>This feed will be permanent deleted, are you sure you want to delete it?</div>\" +\n//             \"<div class='uiModal__footer text-right'><button class='btn btn-outline-gray' data-dismiss='modal'>Cancel</button><button class='btn btn-primary' data-dismiss='modal' data-action='delete-feed-confirmed'>Delete</button></div>\" +\n//             \"</div></div></div>\";\n//\n//         // append modal template to uiFeed\n//         $feed.append($modalTemplate);\n//\n//         // add modal attribute to the delete button\n//         $this.attr(\"data-toggle\", \"modal\");\n//         $this.attr(\"data-target\", \"#delete-confirmation-\" + $group_id + $feed_id);\n//\n//         // click modal delete button to fire the ajax\n//         $feed.find(\"button[data-action='delete-feed-confirmed']\").one(\"click\", function () {\n//             $.ajaxSetup({\n//                 headers: {\n//                     'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\n//                 }\n//             });\n//             $.ajax({\n//                 type: 'DELETE',\n//                 data: {method: '_DELETE'},\n//                 dataType: 'json',\n//                 url: \"/group/\" + $group_id + \"/\" + $feed_id + \"/delete\",\n//\n//                 success: function () {\n//                     $feed.fadeOut(500, function() {\n//                         $(this).remove();\n//                     });\n//                 },\n//                 error: function (data) {\n//                     console.log(data);\n//                 }\n//             });\n//         });\n//\n//     });\n// });\n\n\n/*\n |--------------------------------------------------------------------------\n | Delete Feed Comment\n |--------------------------------------------------------------------------\n */\n// $(function () {\n//     $(\"button[data-action='delete-feed-comment']\").one(\"click\", function () {\n//\n//         // variables\n//         var $this = $(this);\n//\n//         var $feed_comment = $this.closest(\".uiFeed__reply__item\");\n//\n//         var $group_id = $this.attr(\"data-group-id\");\n//         var $feed_id = $this.attr(\"data-feed-id\");\n//         var $comment_id = $this.attr(\"data-comment-id\");\n//\n//         // modal template\n//         var $modalTemplate = \"<div class='uiModal fade' id='delete-confirmation-\" + $group_id + $feed_id + $comment_id + \"'>\" +\n//             \"<div class='uiModal__dialog uiModal--sm'>\" +\n//             \"<div class='uiModal__content'>\" +\n//             \"<div class='uiModal__header'><button class='close' data-dismiss='modal'><span>&times;</span></button><div class='h3 text-center'>Delete Reply</div></div>\" +\n//             \"<div class='uiModal__body'>This Reply will be permanent deleted, are you sure you want to delete it?</div>\" +\n//             \"<div class='uiModal__footer text-right'><button class='btn btn-outline-gray' data-dismiss='modal'>Cancel</button><button class='btn btn-primary' data-dismiss='modal' data-action='delete-feed-comment-confirmed'>Delete</button></div>\" +\n//             \"</div></div></div>\";\n//\n//         // append modal template to uiFeed__reply__item\n//         $feed_comment.append($modalTemplate);\n//\n//         // add modal attribute to the delete button\n//         $this.attr(\"data-toggle\", \"modal\");\n//         $this.attr(\"data-target\", \"#delete-confirmation-\" + $group_id + $feed_id + $comment_id);\n//\n//         // click modal delete button to fire the ajax\n//         $feed_comment.find(\"button[data-action='delete-feed-comment-confirmed']\").one(\"click\", function () {\n//             $.ajaxSetup({\n//                 headers: {\n//                     'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\n//                 }\n//             });\n//             $.ajax({\n//                 type: 'DELETE',\n//                 data: {method: '_DELETE'},\n//                 dataType: 'json',\n//                 url: \"/group/\" + $group_id + \"/\" + $feed_id + \"/comment/\" + $comment_id + \"/delete\",\n//\n//                 success: function () {\n//                     $feed_comment.fadeOut(500, function() {\n//                         $(this).remove();\n//                     });\n//                 },\n//                 error: function (data) {\n//                     console.log(data);\n//                 }\n//             });\n//         });\n//\n//     });\n// });\n\n\n/*\n |--------------------------------------------------------------------------\n | Delete Feed Child Comment\n |--------------------------------------------------------------------------\n */\n$(function () {\n    $(\"button[data-action='delete-feed-childComment']\").one(\"click\", function () {\n\n        // variables\n        var $this = $(this);\n\n        var $feed_childComment = $this.closest(\".uiFeed__reply__item\");\n\n        var $group_id = $this.attr(\"data-group-id\");\n        var $feed_id = $this.attr(\"data-feed-id\");\n        var $comment_id = $this.attr(\"data-comment-id\");\n        var $childComment_id = $this.attr(\"data-childComment-id\");\n\n        // modal template\n        var $modalTemplate = \"<div class='uiModal fade' id='delete-confirmation-\" + $group_id + $feed_id + $comment_id + $childComment_id + \"'>\" +\n            \"<div class='uiModal__dialog uiModal--sm'>\" +\n            \"<div class='uiModal__content'>\" +\n            \"<div class='uiModal__header'><button class='close' data-dismiss='modal'><span>&times;</span></button><div class='h3 text-center'>Delete Reply</div></div>\" +\n            \"<div class='uiModal__body'>This Reply will be permanent deleted, are you sure you want to delete it?</div>\" +\n            \"<div class='uiModal__footer text-right'><button class='btn btn-outline-gray' data-dismiss='modal'>Cancel</button><button class='btn btn-primary' data-dismiss='modal' data-action='delete-feed-childComment-confirmed'>Delete</button></div>\" +\n            \"</div></div></div>\";\n\n        // append modal template to uiFeed__reply__item\n        $feed_childComment.append($modalTemplate);\n\n        // add modal attribute to the delete button\n        $this.attr(\"data-toggle\", \"modal\");\n        $this.attr(\"data-target\", \"#delete-confirmation-\" + $group_id + $feed_id + $comment_id + $childComment_id);\n\n        // click modal delete button to fire the ajax\n        $feed_childComment.find(\"button[data-action='delete-feed-childComment-confirmed']\").one(\"click\", function () {\n            $.ajaxSetup({\n                headers: {\n                    'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\n                }\n            });\n            $.ajax({\n                type: 'DELETE',\n                data: {method: '_DELETE'},\n                dataType: 'json',\n                url: \"/group/\" + $group_id + \"/\" + $feed_id + \"/comment/\" + $comment_id + \"/childComment/\" + $childComment_id + \"/delete\",\n\n                success: function () {\n                    $feed_childComment.fadeOut(500, function() {\n                        $(this).remove();\n                    });\n                },\n                error: function (data) {\n                    console.log(data);\n                }\n            });\n        });\n\n    });\n});\n\n\n/*\n |--------------------------------------------------------------------------\n | Post Feed\n |--------------------------------------------------------------------------\n */\n// $(function () {\n//     $(\"button[data-action='post-feed']\").off(\"click\").on(\"click\", function () {\n//\n//         //\n//         var $this = $(this);\n//         var $feed_list = $(\"#feeds-normal\");\n//         var $form = $this.parents(\".rich-form\");\n//         var $form_body = $form.find(\".rich-form-body\");\n//         var $textarea = $form.find(\"textarea\");\n//\n//         var $group_id = $form.attr(\"data-group-id\");\n//         var $textarea_content = $textarea.val();\n//\n//         //\n//         $this.attr('disabled','disabled');\n//         $textarea.attr('disabled','disabled');\n//\n//         //\n//         $.ajaxSetup({\n//             headers: {\n//                 'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\n//             }\n//         });\n//         $.ajax({\n//             url: \"/group/\" + $group_id + \"/postFeed\",\n//             type: \"post\",\n//             dataType: \"json\",\n//             data: {\n//                 'feed': $textarea_content\n//             },\n//\n//             success: function (data) {\n//\n//                 var $feedNewContent = data.json.content.nl2br();\n//\n//                 var $feedTemplate = \"<div class='uiFeed'><div class='uiFeed__main'>\" +\n//                     \"<a href='#' class='uiFeed__avatar'><img data-name='?' class='initialAvatar avatar avatar--md arc-sm'/></a>\" +\n//                     \"<div class='uiFeed__details'>\" +\n//                     \"<div class='uiFeed__details__author'><a href='?' class='break-word'>Name</a></div>\" +\n//                     \"<div class='uiFeed__details__misc'><span class='uiFeed__details__misc__time'>Apr 27,2016</span></div>\" +\n//                     \"</div>\" +\n//                     \"<div class='uiFeed__article'>\" +\n//                     \"<div class='uiFeed__article__text break-word'>\" + $feedNewContent + \"</div>\" +\n//                     \"</div>\" +\n//                     \"<div class='uiFeed__misc'>\" +\n//                     \"<div class='pull-left forms--inline'>\" +\n//                     \"<form id='like-feed' role='form' accept-charset='UTF-8' action='' method='POST'><button class='btn btn-sns' id='post-like-submit'><span class='icon icon-thumb-up'></span><span class='btn-sns__count'> 0</span></button></form>\" +\n//                     \"<form id='unlike-feed' role='form' accept-charset='UTF-8' action='' method='POST'><button class='btn btn-sns' id='post-unlike-submit'><span class='icon icon-thumb-down'></span><span class='btn-sns__count'> 0</span></button></form>\" +\n//                     \"<button class='btn btn-sns'><span class='icon icon-share'></span></button>\" +\n//                     \"</div>\" +\n//                     \"<div class='pull-right uiDropdown'>\" +\n//                     \"<button class='btn btn-sns' data-toggle='dropdown'><span class='icon icon-gear text-light link'></span></button>\" +\n//                     \"<ul class='uiDropdown__menu arrow--none'>\" +\n//                     \"<li><button data-action='edit-feed' data-group-id='' data-feed-id=''>Edit</button></li>\" +\n//                     \"<li><button data-action='delete-feed' data-group-id='' data-feed-id=''>Delete</button></li>\" +\n//                     \"</ul>\" +\n//                     \"</div></div></div>\" +\n//                     \"<div class='uiFeed__footer inactive'><div class='uiFeed__footer__mask'>\" +\n//                     \"<div class='uiFeed__reply__form'>\" +\n//                     \"<form id='post-comment' role='form' data-toggle='validator' accept-charset='UTF-8' action='' method='POST' novalidate='true'>\" +\n//                     \"<img data-name='?' class='initialAvatar avatar avatar--md arc-sm mR--md pull-left'/>\" +\n//                     \"<input class='btn btn-primary btn-md mL--md pull-right' type='submit' value='Reply'>\" +\n//                     \"<div class='uiFeed__reply__form__input'><div class='elastic-textarea elastic-textarea--hasBtn'>\" +\n//                     \"<textarea placeholder='Reply......' name='reply-' class='form-control elastic-textarea__input' data-elastic='textarea'></textarea>\" +\n//                     \"<div class='elastic-textarea__btn'><button class='btn btn-md icon icon-camera text-light'></button></div>\" +\n//                     \"</div></div></form></div></div>\" +\n//                     \"<div class='uiFeed__footer__toggle text-center'><span class='icon icon-comments mR'></span><span class='btn-sns__count'> 0</span></div>\" +\n//                     \"</div></div>\";\n//\n//                 //\n//                 $feed_list.prepend($feedTemplate).hide().fadeIn(500);\n//\n//                 //\n//                 $this.removeAttr(\"disabled\");\n//                 $textarea.removeAttr(\"disabled\");\n//                 $textarea.val(\"\");\n//                 $form_body.removeClass(\"active\");\n//\n//             },\n//             error: function (data) {\n//                 console.log(data);\n//\n//                 //\n//                 $this.removeAttr(\"disabled\");\n//                 $textarea.removeAttr(\"disabled\");\n//             }\n//         });\n//\n//     });\n// });\n\n\n/*\n |--------------------------------------------------------------------------\n | Edit Feed\n |--------------------------------------------------------------------------\n */\n// $(function () {\n//     $(\"button[data-action='edit-feed']\").one(\"click\", function () {\n//\n//         // variables\n//         var $this = $(this);\n//\n//         var $feed = $this.closest(\".uiFeed\");\n//         var $feed_content = $this.closest(\".uiFeed\").find(\".uiFeed__main .uiFeed__article__text\");\n//         var $feed_original_content = $this.closest(\".uiFeed\").find(\".uiFeed__main .uiFeed__article__text\").text();\n//\n//         var $group_id = $this.attr(\"data-group-id\");\n//         var $feed_id = $this.attr(\"data-feed-id\");\n//\n//         // modal template\n//         var $modalTemplate = \"<div class='uiModal fade' id='edit-feed-\" + $group_id + $feed_id + \"'>\" +\n//             \"<div class='uiModal__dialog uiModal--md'>\" +\n//             \"<div class='uiModal__content'>\" +\n//             \"<div class='uiModal__header'><button class='close' data-dismiss='modal'><span>&times;</span></button><div class='h3 text-center'>Edit Feed</div></div>\" +\n//             \"<div class='uiModal__body'><textarea id='feed_content' class='form-control h--md'>\" + $feed_original_content + \"</textarea></div>\" +\n//             \"<div class='uiModal__footer text-right'><button class='btn btn-outline-gray' data-dismiss='modal'>Cancel</button><button class='btn btn-primary' data-dismiss='modal' data-action='edit-feed-confirmed'>Save</button></div>\" +\n//             \"</div></div></div>\";\n//\n//         // append modal template to uiFeed\n//         $feed.append($modalTemplate);\n//\n//         // add modal attribute to the delete button\n//         $this.attr(\"data-toggle\", \"modal\");\n//         $this.attr(\"data-target\", \"#edit-feed-\" + $group_id + $feed_id);\n//\n//         $feed.find(\"button[data-action='edit-feed-confirmed']\").off(\"click\").on(\"click\", function () {\n//\n//             //\n//             var $feed_edited_content = $feed.find(\"#feed_content\").val();\n//\n//             $.ajaxSetup({\n//                 headers: {\n//                     'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\n//                 }\n//             });\n//             $.ajax({\n//                 url: \"/group/\" + $group_id + \"/\" + $feed_id + \"/edit\",\n//                 type: 'PATCH',\n//                 dataType: 'json',\n//                 data: {\n//                     'feed': $feed_edited_content\n//                 },\n//\n//                 success: function (data) {\n//                     var $feed_edited_new_content = data.json.content.nl2br();\n//                     $feed_content.html($feed_edited_new_content);\n//                 },\n//                 error: function (data) {\n//                     console.log('Error:', data);\n//                 }\n//\n//             });\n//         });\n//     });\n// });"],"sourceRoot":"/source/"}